(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{1365:function(t,s,a){t.exports=a.p+"assets/img/2.6fce84fe.png"},1366:function(t,s,a){t.exports=a.p+"assets/img/3.b0dad5d0.jpg"},1367:function(t,s,a){t.exports=a.p+"assets/img/4.91fd9203.png"},1368:function(t,s,a){t.exports=a.p+"assets/img/5.dbbd8c0c.png"},3077:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"静态资源web服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#静态资源web服务"}},[t._v("#")]),t._v(" 静态资源Web服务")]),t._v(" "),n("ul",[n("li",[t._v("静态资源：一般客户端发送请求到web服务器，web服务器从内存在取到相应的文件，返回给客户端，客户端解析并渲染显示出来。")]),t._v(" "),n("li",[t._v("动态资源：一般客户端请求的动态资源，先将请求交于web容器，web容器连接数据库，数据库处理数据之后，将内容交给web服务器，web服务器返回给客户端解析渲染处理")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("浏览器渲染")]),t._v(" "),n("td",[t._v("HTML、CSS、JS")])]),t._v(" "),n("tr",[n("td",[t._v("图片")]),t._v(" "),n("td",[t._v("JPEG、GIF、PNG")])]),t._v(" "),n("tr",[n("td",[t._v("视频")]),t._v(" "),n("td",[t._v("FLV、MPEG")])]),t._v(" "),n("tr",[n("td",[t._v("下载文件")]),t._v(" "),n("td",[t._v("Word、Excel")])])])]),t._v(" "),n("h2",{attrs:{id:"cdn"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cdn"}},[t._v("#")]),t._v(" CDN")]),t._v(" "),n("ul",[n("li",[t._v("CDN的全称是Content Delivery Network，即内容分发网络。")]),t._v(" "),n("li",[t._v("CDN系统能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上。其目的是使用户可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度。")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(1365),alt:""}})]),t._v(" "),n("h3",{attrs:{id:"配置语法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置语法"}},[t._v("#")]),t._v(" 配置语法")]),t._v(" "),n("h4",{attrs:{id:"sendfile"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sendfile"}},[t._v("#")]),t._v(" sendfile")]),t._v(" "),n("p",[t._v("不经过用户内核发送文件")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("语法")]),t._v(" "),n("td",[t._v("sendfile on / off")])]),t._v(" "),n("tr",[n("td",[t._v("默认")]),t._v(" "),n("td",[t._v("sendfile off;")])]),t._v(" "),n("tr",[n("td",[t._v("上下文")]),t._v(" "),n("td",[t._v("http,server,location,if in location")])])])]),t._v(" "),n("h3",{attrs:{id:"tcp-nopush"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tcp-nopush"}},[t._v("#")]),t._v(" tcp_nopush")]),t._v(" "),n("p",[t._v("在sendfile开启的情况 下，提高网络包的传输效率")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("单元格")]),t._v(" "),n("td",[t._v("tcp_nopush on / off")])]),t._v(" "),n("tr",[n("td",[t._v("上下文")]),t._v(" "),n("td",[t._v("http,server,location")])])])]),t._v(" "),n("h3",{attrs:{id:"tcp-nodelay"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tcp-nodelay"}},[t._v("#")]),t._v(" tcp_nodelay")]),t._v(" "),n("p",[t._v("在keepalive连接下，提高网络包的传输实时性")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("语法")]),t._v(" "),n("td",[t._v("tcp_nodelay on / off")])]),t._v(" "),n("tr",[n("td",[t._v("单元格")]),t._v(" "),n("td",[t._v("tcp_nodelay on;")])])])]),t._v(" "),n("h3",{attrs:{id:"gzip"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gzip"}},[t._v("#")]),t._v(" gzip")]),t._v(" "),n("p",[t._v("压缩文件可以节约带宽和提高网络传输效率")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("语法")]),t._v(" "),n("td",[t._v("gzip on / off")])]),t._v(" "),n("tr",[n("td",[t._v("默认")]),t._v(" "),n("td",[t._v("gzip off;")])]),t._v(" "),n("tr",[n("td",[t._v("上下文")]),t._v(" "),n("td",[t._v("http,server,location")])])])]),t._v(" "),n("h3",{attrs:{id:"gzip-comp-level"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gzip-comp-level"}},[t._v("#")]),t._v(" gzip_comp_level")]),t._v(" "),n("p",[t._v("压缩比率越高，文件被压缩的体积越小")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("语法")]),t._v(" "),n("td",[t._v("gzip_comp_level level")])]),t._v(" "),n("tr",[n("td",[t._v("默认")]),t._v(" "),n("td",[t._v("gzip_comp_level 1;")])]),t._v(" "),n("tr",[n("td",[t._v("上下文")]),t._v(" "),n("td",[t._v("http,server,location")])])])]),t._v(" "),n("h3",{attrs:{id:"gzip-http-version"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gzip-http-version"}},[t._v("#")]),t._v(" gzip_http_version")]),t._v(" "),n("p",[t._v("压缩HTTP版本")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("语法")]),t._v(" "),n("td",[t._v("gzip_http_version 1.0/1.1")])]),t._v(" "),n("tr",[n("td",[t._v("默认")]),t._v(" "),n("td",[t._v("gzip_http_version 1.1;")])]),t._v(" "),n("tr",[n("td",[t._v("上下文")]),t._v(" "),n("td",[t._v("http,server,location")])])])]),t._v(" "),n("h3",{attrs:{id:"http-gzip-static-module"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http-gzip-static-module"}},[t._v("#")]),t._v(" http_gzip-static_module")]),t._v(" "),n("p",[t._v("先找磁盘上找同名的"),n("code",[t._v(".gz")]),t._v("这个文件是否存在,节约CPU的压缩时间和性能损耗")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("语法")]),t._v(" "),n("td",[t._v("gzip_static on/off")])]),t._v(" "),n("tr",[n("td",[t._v("默认")]),t._v(" "),n("td",[t._v("gzip_static off;")])]),t._v(" "),n("tr",[n("td",[t._v("上下文")]),t._v(" "),n("td",[t._v("http,server,location")])])])]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("location ~ .*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jpg"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("png"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("gif"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("gzip")]),t._v(" off"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        gzip_http_version "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       gzip_comp_level "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       gzip_types image/jpeg image/png image/gif"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        root /data/images"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    location ~ .*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("html"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("js"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("gzip")]),t._v(" on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        gzip_min_length 1k"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        gzip_http_version "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        gzip_comp_level "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        gzip_types  text/css application/javascript"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        root /data/html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    location ~ ^/download "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        gzip_static on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        tcp_nopush on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n        root /data/download"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br")])]),n("h3",{attrs:{id:"浏览器缓存"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#浏览器缓存"}},[t._v("#")]),t._v(" 浏览器缓存")]),t._v(" "),n("p",[t._v("校验本地缓存是否过期")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("检验是否过期")]),t._v(" "),n("td",[t._v("Expires、Cache-Control(max-age)")])]),t._v(" "),n("tr",[n("td",[t._v("Etag")]),t._v(" "),n("td",[t._v("Etag")])]),t._v(" "),n("tr",[n("td",[t._v("Last-Modified")]),t._v(" "),n("td",[t._v("Last-Modified")])])])]),t._v(" "),n("h4",{attrs:{id:"expires"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#expires"}},[t._v("#")]),t._v(" expires")]),t._v(" "),n("p",[t._v("添加Cache-Control、Expires头")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("语法")]),t._v(" "),n("td",[t._v("expires time")])]),t._v(" "),n("tr",[n("td",[t._v("默认")]),t._v(" "),n("td",[t._v("expires off;")])]),t._v(" "),n("tr",[n("td",[t._v("上下文")]),t._v(" "),n("td",[t._v("http,server,location")])])])]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("location ~ .*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jpg"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("png"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("gif"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        expires 24h"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("h3",{attrs:{id:"跨域"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#跨域"}},[t._v("#")]),t._v(" 跨域")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("语法")]),t._v(" "),n("td",[t._v("add_header name value")])]),t._v(" "),n("tr",[n("td",[t._v("默认")]),t._v(" "),n("td",[t._v("add_header --;")])]),t._v(" "),n("tr",[n("td",[t._v("上下文")]),t._v(" "),n("td",[t._v("http,server,location")])])])]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("location ~ .*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(".json$ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        add_header Access-Control-Allow-Origin http://localhost:3000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        add_header Access-Control-Allow-Methods GET,POST,PUT,DELETE,OPTIONS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        root /data/json"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" xhr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        xhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://47.104.184.134/users.json'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        xhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onreadystatechange")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readyState "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" xhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseText"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nxhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])]),n("h3",{attrs:{id:"防盗链"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#防盗链"}},[t._v("#")]),t._v(" 防盗链")]),t._v(" "),n("ul",[n("li",[t._v("防止网站资源被盗用")]),t._v(" "),n("li",[t._v("保证信息安全")]),t._v(" "),n("li",[t._v("防止流量过量")]),t._v(" "),n("li",[t._v("区别哪些请求是非正常的用户请求")]),t._v(" "),n("li",[t._v("使用http_refer防盗链")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("语法")]),t._v(" "),n("td",[t._v("valid_referers none")])]),t._v(" "),n("tr",[n("td",[t._v("默认")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("上下文")]),t._v(" "),n("td",[t._v("server,location")])])])]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("location ~ .*"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jpg"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("png"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("gif"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        expires 1h"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("gzip")]),t._v(" off"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        gzip_http_version "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        gzip_comp_level "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        gzip_types image/jpeg image/png image/gif"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n+        valid_referers none blocked "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("47.104")]),t._v(".184.134"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n+        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$invalid_referer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n+           "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("403")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n+        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        root /data/images"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br")])]),n("h3",{attrs:{id:"代理服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代理服务"}},[t._v("#")]),t._v(" 代理服务")]),t._v(" "),n("h4",{attrs:{id:"配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("语法")]),t._v(" "),n("td",[t._v("proxy_pass URL")])]),t._v(" "),n("tr",[n("td",[t._v("默认")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("上下文")]),t._v(" "),n("td",[t._v("server,location")])])])]),t._v(" "),n("h4",{attrs:{id:"反向代理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#反向代理"}},[t._v("#")]),t._v(" 反向代理")]),t._v(" "),n("p",[t._v("反向代理的对象的服务端")]),t._v(" "),n("p",[n("img",{attrs:{src:a(1366),alt:""}})]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("resolver "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.8")]),t._v(".8.8"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlocation ~ ^/api "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      proxy_pass http://127.0.0.1:3000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("h4",{attrs:{id:"正向代理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#正向代理"}},[t._v("#")]),t._v(" 正向代理")]),t._v(" "),n("p",[t._v("正向代理的对象是客户端")]),t._v(" "),n("p",[n("img",{attrs:{src:a(1367),alt:""}})]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("location / "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        proxy_pass http://"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_host")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request_uri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("h3",{attrs:{id:"负载均衡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#负载均衡"}},[t._v("#")]),t._v(" 负载均衡")]),t._v(" "),n("p",[n("img",{attrs:{src:a(1368),alt:""}})]),t._v(" "),n("ul",[n("li",[t._v("使用集群是网站解决高并发、海量数据问题的常用手段。")]),t._v(" "),n("li",[t._v("当一台服务器的处理能力、存储空间不足时，不要企图去换更强大的服务器，对大型网站而言，不管多么强大的服务器，都满足不了网站持续增长的业务需求。")]),t._v(" "),n("li",[t._v("这种情况下，更恰当的做法是增加一台服务器分担原有服务器的访问及存储压力。通过负载均衡调度服务器，将来自浏览器的访问请求分发到应用服务器集群中的任何一台服务器上，如果有更多的用户，就在集群中加入更多的应用服务器，使应用服务器的负载压力不再成为整个网站的瓶颈。")])]),t._v(" "),n("h4",{attrs:{id:"upstream"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#upstream"}},[t._v("#")]),t._v(" upstream")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("种类")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("语法")]),t._v(" "),n("td",[t._v("upstream name {}")])]),t._v(" "),n("tr",[n("td",[t._v("默认")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("上下文")]),t._v(" "),n("td",[t._v("http")])])])]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("upstream zfpx "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ip_hash"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  server localhost:3000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  server localhost:4000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  server localhost:5000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nserver "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    location / "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        proxy_pass http://zfpx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("h4",{attrs:{id:"后端服务器调试状态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#后端服务器调试状态"}},[t._v("#")]),t._v(" 后端服务器调试状态")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("状态")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("down")]),t._v(" "),n("td",[t._v("不参与负载均衡")])]),t._v(" "),n("tr",[n("td",[t._v("backup")]),t._v(" "),n("td",[t._v("备份的服务器")])]),t._v(" "),n("tr",[n("td",[t._v("max_fails")]),t._v(" "),n("td",[t._v("允许请求失败的次数")])]),t._v(" "),n("tr",[n("td",[t._v("fail_timeout")]),t._v(" "),n("td",[t._v("经过max_fails失败后，服务暂停的时间")])]),t._v(" "),n("tr",[n("td",[t._v("max_conns")]),t._v(" "),n("td",[t._v("限制最大的接收的连接数")])])])]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("upstream zfpx "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  server localhost:3000 down"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  server localhost:4000 backup"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  server localhost:5000 "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("max_fails")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("fail_timeout")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("10s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("h4",{attrs:{id:"分配方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分配方式"}},[t._v("#")]),t._v(" 分配方式")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("类型")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("轮询（默认）")]),t._v(" "),n("td",[t._v("每个请求按时间顺序逐一分配到不同的后端服务器，如果后端服务器down掉，能自动剔除。")])]),t._v(" "),n("tr",[n("td",[t._v("weight(加权轮询)")]),t._v(" "),n("td",[t._v("指定轮询几率，weight和访问比率成正比，用于后端服务器性能不均的情况。")])]),t._v(" "),n("tr",[n("td",[t._v("ip_hash")]),t._v(" "),n("td",[t._v("每个请求按访问ip的hash结果分配，这样每个访客固定访问一个后端服务器，可以解决session的问题。")])]),t._v(" "),n("tr",[n("td",[t._v("url_hash（第三方）")]),t._v(" "),n("td",[t._v("按访问的URL地址来分配 请求，每个URL都定向到同一个后端 服务器上(缓存)")])]),t._v(" "),n("tr",[n("td",[t._v("fair（第三方）")]),t._v(" "),n("td",[t._v("按后端服务器的响应时间来分配请求，响应时间短的优先分配。")])]),t._v(" "),n("tr",[n("td",[t._v("least_conn")]),t._v(" "),n("td",[t._v("最小连接数，哪个连接少就分给谁")])]),t._v(" "),n("tr",[n("td",[t._v("自定义hash")]),t._v(" "),n("td",[t._v("hash自定义key")])])])]),t._v(" "),n("h3",{attrs:{id:"缓存"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#缓存"}},[t._v("#")]),t._v(" 缓存")]),t._v(" "),n("p",[t._v("nginx代理缓存")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/dengjiexian123/article/details/53386586",target:"_blank",rel:"noopener noreferrer"}},[t._v("proxy_cache"),n("OutboundLink")],1)]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n    proxy_cache_path /data/nginx/tmp-test "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("levels")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(":2 "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("keys_zone")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tmp-test:100m "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("inactive")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("7d "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("max_size")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("1000g"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("ul",[n("li",[t._v("proxy_cache_path 缓存文件路径")]),t._v(" "),n("li",[t._v("levels 设置缓存文件目录层次；levels=1:2 表示两级目录")]),t._v(" "),n("li",[t._v("keys_zone 设置缓存名字和共享内存大小")]),t._v(" "),n("li",[t._v("inactive 在指定时间内没人访问则被删除")]),t._v(" "),n("li",[t._v("max_size 最大缓存空间，如果缓存空间满，默认覆盖掉缓存时间最长的资源。")])]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("location /tmp-test/ "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n  proxy_cache tmp-test"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n  proxy_cache_valid  "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("206")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("304")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("301")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("302")]),t._v(" 10d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n  proxy_cache_key "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n  proxy_set_header Host "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$host")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$server_port")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n  proxy_set_header X-Real-IP "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n  proxy_set_header   X-Forwarded-For "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$proxy_add_x_forwarded_for")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n  proxy_pass http://127.0.0.1:8081/media_store.php/tmp-test/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])]),n("ul",[n("li",[t._v("proxy_cache tmp-test 使用名为tmp-test的对应缓存配置")]),t._v(" "),n("li",[t._v("proxy_cache_valid 200 206 304 301 302 10d; 对- httpcode为200…的缓存10天")]),t._v(" "),n("li",[t._v("proxy_cache_key $uri 定义缓存唯一key,通过唯一key来进行hash存取")]),t._v(" "),n("li",[t._v("proxy_set_header 自定义http header头，用于发送给后端真实服务器。")]),t._v(" "),n("li",[t._v("proxy_pass 指代理后转发的路径，注意是否需要最后的/")])])])}),[],!1,null,null,null);s.default=e.exports}}]);
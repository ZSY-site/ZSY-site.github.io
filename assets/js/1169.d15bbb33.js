(window.webpackJsonp=window.webpackJsonp||[]).push([[1169],{3070:function(t,e,a){"use strict";a.r(e);var s=a(2),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"日志类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#日志类型"}},[t._v("#")]),t._v(" 日志类型")]),t._v(" "),a("ul",[a("li",[t._v("access_.log 访问日志")]),t._v(" "),a("li",[t._v("error.log 错误日志")])]),t._v(" "),a("h2",{attrs:{id:"log-format"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-format"}},[t._v("#")]),t._v(" log_format")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("类型")]),t._v(" "),a("th",[t._v("用法")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("语法")]),t._v(" "),a("td",[t._v("log_format name [escape=default[json] string]")])]),t._v(" "),a("tr",[a("td",[t._v("默认")]),t._v(" "),a("td",[t._v("log_format combined ...")])]),t._v(" "),a("tr",[a("td",[t._v("Context")]),t._v(" "),a("td",[t._v("http")])])])]),t._v(" "),a("p",[t._v("案例")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v(" log_format  main  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$remote_addr - $remote_user [$time_local] \"$request\" '")]),t._v("\n                      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$status $body_bytes_sent \"$http_referer\" '")]),t._v("\n                      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'"$http_user_agent" "$http_x_forwarded_for"\'')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n log_format  zfpx  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$arg_name $http_referer sent_http_date\"'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n access_log  /var/log/nginx/access.log  main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    \n\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("221.216")]),t._v(".143.110 - - "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("09/Jun/2018:22:41:18 +0800"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET / HTTP/1.1"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("612")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("h2",{attrs:{id:"http请求变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http请求变量"}},[t._v("#")]),t._v(" HTTP请求变量")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("含义")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("例子")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("arg_PARAMETER")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("请求参数")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$arg_name")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("http_HEADER")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("请求头")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$http_referer")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("sent_http_HEADER")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("响应头")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("sent_http_cookie")])])])]),t._v(" "),a("h2",{attrs:{id:"内置变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内置变量"}},[t._v("#")]),t._v(" 内置变量")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://nginx.org/en/docs/http/ngx_http_log_module.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ngx_http_log_module"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://nginx.org/en/docs/http/ngx_http_log_module.html#log_format",target:"_blank",rel:"noopener noreferrer"}},[t._v("log_format"),a("OutboundLink")],1)]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("$remote_addr")]),t._v(" "),a("td",[t._v("客户端地址")])]),t._v(" "),a("tr",[a("td",[t._v("$remote_user")]),t._v(" "),a("td",[t._v("客户端用户名称")])]),t._v(" "),a("tr",[a("td",[t._v("$time_local")]),t._v(" "),a("td",[t._v("访问时间和时区")])]),t._v(" "),a("tr",[a("td",[t._v("$request")]),t._v(" "),a("td",[t._v("请求的URI和HTTP协议")])]),t._v(" "),a("tr",[a("td",[t._v("$http_host")]),t._v(" "),a("td",[t._v("请求地址，即浏览器中你输入的地址（IP或域名）")])]),t._v(" "),a("tr",[a("td",[t._v("$status")]),t._v(" "),a("td",[t._v("HTTP请求状态")])]),t._v(" "),a("tr",[a("td",[t._v("$body_bytes_sent")]),t._v(" "),a("td",[t._v("发送给客户端文件内容大小")])])])])])}),[],!1,null,null,null);e.default=r.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{2699:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"帮助启动类命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#帮助启动类命令"}},[s._v("#")]),s._v(" 帮助启动类命令")]),s._v(" "),n("ul",[n("li",[s._v("在虚拟机执行如下命令：")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 docker")]),s._v("\nsystemctl start "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止 docker")]),s._v("\nsystemctl stop "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 docker")]),s._v("\nsystemctl restart "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 docker 状态")]),s._v("\nsystemctl status "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开机启动")]),s._v("\nsystemctl "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 docker 概要信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" info\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 docker 总体帮助文档")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 docker 命令帮助文档")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build（具体命令，通过 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v(" 输出的Commands获取） "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("h2",{attrs:{id:"镜像命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#镜像命令"}},[s._v("#")]),s._v(" 镜像命令")]),s._v(" "),n("h3",{attrs:{id:"列出本地主机上的镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#列出本地主机上的镜像"}},[s._v("#")]),s._v(" 列出本地主机上的镜像")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出本地主机上的镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出本地主机上的所有镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出本地主机上的所有镜像的ID")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 组合使用")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("ul",[n("li",[n("p",[s._v("输出：")]),s._v(" "),n("ul",[n("li",[n("img",{attrs:{src:t(959),alt:""}})])])]),s._v(" "),n("li",[n("p",[s._v("各个选项说明:")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("REPOSITORY：表示镜像的仓库源")])]),s._v(" "),n("li",[n("p",[s._v("TAG：镜像的标签版本号")])]),s._v(" "),n("li",[n("p",[s._v("IMAGE ID：镜像 ID")])]),s._v(" "),n("li",[n("p",[s._v("CREATED：镜像创建时间")])]),s._v(" "),n("li",[n("p",[s._v("SIZE：镜像大小")]),s._v(" "),n("ul",[n("li",[s._v("同一仓库源可以有多个 TAG 版本，代表这个仓库源的不同个版本，我们使用 REPOSITORY:TAG 来定义不同的镜像。如果你不指定一个镜像的版本标签，例如你只使用 ubuntu，docker 将默认使用 ubuntu:latest 镜像")])])])])]),s._v(" "),n("li",[n("p",[s._v("OPTIONS 说明：")]),s._v(" "),n("ul",[n("li",[s._v("-a : 列出本地所有的镜像（含历史映像层）")]),s._v(" "),n("li",[s._v("-q : 只显示镜像 ID。")])])])]),s._v(" "),n("h3",{attrs:{id:"搜索远程是否有某个镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搜索远程是否有某个镜像"}},[s._v("#")]),s._v(" 搜索远程是否有某个镜像")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令: docker search [OPTIONS] 镜像名字")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 搜索远程是否有  redis 这个镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" search redis（镜像名字）\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ul",[n("li",[n("p",[s._v("输出如下图所示：")]),s._v(" "),n("ul",[n("li",[n("img",{attrs:{src:t(960),alt:""}})])])]),s._v(" "),n("li",[n("p",[s._v("OPTIONS 说明：")]),s._v(" "),n("ul",[n("li",[s._v("--limit : 只列出 N 个镜像，默认 25 个, 比如 "),n("code",[s._v("docker search --limit 5 redis")])])])])]),s._v(" "),n("h3",{attrs:{id:"拉取镜像到本地"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#拉取镜像到本地"}},[s._v("#")]),s._v(" 拉取镜像到本地")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令: docker pull 镜像名字[:TAG] ，如果没有 TAG 就是最新版，等价于 docker pull 镜像名字:latest")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取远程的 hello-world 镜像到本地")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull ubuntu（镜像名字）\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出本地主机上的镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("ul",[n("li",[s._v("输出如下图所示:\n"),n("ul",[n("li",[n("img",{attrs:{src:t(961),alt:""}})])])])]),s._v(" "),n("h3",{attrs:{id:"查看镜像-容器-数据卷所占的空间"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看镜像-容器-数据卷所占的空间"}},[s._v("#")]),s._v(" 查看镜像/容器/数据卷所占的空间")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看镜像/容器/数据卷所占的空间, 也就是看下这条鲸鱼上已经装了多少东西了！")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" system "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ul",[n("li",[s._v("输出如下:\n"),n("ul",[n("li",[n("img",{attrs:{src:t(962),alt:""}})])])])]),s._v(" "),n("h3",{attrs:{id:"删除镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[s._v("#")]),s._v(" 删除镜像")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除 hello-world 镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi hello-world（镜像名字）\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除镜像 ID 为 feb5d9fea6a5 的镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -f 是强制的意思，正常情况下，删除镜像前必须先停止镜像，如果不想停止，则可以加 -f")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" feb5d9fea6a5（某个镜像的 ID）\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同时删除多个镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令：docker rmi -f 镜像名1:TAG 镜像名2:TAG")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除 mysql 版本为 5.5.47 的镜像和 redis 版本为 4.0.2 的镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" mysql:5.5.47 redis:4.0.2\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除全部镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $()")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h3",{attrs:{id:"面试题-谈谈-docker-虚悬镜像是什么"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#面试题-谈谈-docker-虚悬镜像是什么"}},[s._v("#")]),s._v(" 面试题：谈谈 docker 虚悬镜像是什么？")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("是什么: 仓库名、标签都是"),n("code",[s._v("<none>")]),s._v("的镜像，俗称虚悬镜像（dangling image）")])]),s._v(" "),n("li",[n("p",[s._v("长什么样")]),s._v(" "),n("ul",[n("li",[n("img",{attrs:{src:t(963),alt:""}})])])]),s._v(" "),n("li",[n("p",[s._v("后续 Dockerfile 章节再介绍")])]),s._v(" "),n("li",[n("p",[s._v("思考：结合我们 Git 的学习心得，大家猜猜是否会有 docker commit /docker push？？")])])]),s._v(" "),n("h2",{attrs:{id:"容器命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#容器命令"}},[s._v("#")]),s._v(" 容器命令")]),s._v(" "),n("ul",[n("li",[s._v("有镜像才能创建容器，这是根本前提(下载一个 CentOS 或者 ubuntu 镜像演示)")]),s._v(" "),n("li",[s._v("说明\n"),n("ul",[n("li",[n("img",{attrs:{src:t(964),alt:""}})])])])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本次演示用 ubuntu 演示")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull ubuntu\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"新建-启动容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#新建-启动容器"}},[s._v("#")]),s._v(" 新建+启动容器")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" IMAGE "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("COMMAND"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ARG"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[n("p",[s._v("OPTIONS 说明（常用）：有些是一个减号，有些是两个减号")]),s._v(" "),n("ul",[n("li",[s._v('--name="容器新名字" 为容器指定一个名称；')]),s._v(" "),n("li",[s._v("-d: 后台运行容器并返回容器 ID，也即启动守护式容器(后台运行)；")]),s._v(" "),n("li",[s._v("-i（interactive）：以交互模式运行容器，通常与 -t 同时使用；")]),s._v(" "),n("li",[s._v("-t（terminal）：为容器重新分配一个伪输入终端，通常与 -i 同时使用；")]),s._v(" "),n("li",[s._v("因此 "),n("code",[s._v("-i")]),s._v(" 和 "),n("code",[s._v("-t")]),s._v(" 同时使用：即启动交互式容器(前台有伪终端，等待交互)；")]),s._v(" "),n("li",[s._v("-P: 随机端口映射")]),s._v(" "),n("li",[s._v("-p: 指定端口映射")]),s._v(" "),n("li",[n("img",{attrs:{src:t(965),alt:""}})])])])]),s._v(" "),n("h4",{attrs:{id:"案例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#案例"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),n("ul",[n("li",[s._v("启动交互式容器(前台命令行)")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 由于正常启动 ubuntu 需要开一个终端，因此加上 -it")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行下面的命令后，会发现当前所在的目录变为了 ubuntu")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /bin/bash：放在镜像名后的是命令，这里我们希望有个交互式 Shell，因此用的是 /bin/bash，要退出终端，直接输入 exit:")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("peiqi ubuntu /bin/bash\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("ul",[n("li",[s._v("输出结果如图所示：\n"),n("ul",[n("li",[n("img",{attrs:{src:t(966),alt:""}})])])])]),s._v(" "),n("h3",{attrs:{id:"列出当前所有正在运行的容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#列出当前所有正在运行的容器"}},[s._v("#")]),s._v(" 列出当前所有正在运行的容器")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令：docker ps [OPTIONS]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示最近 1 个创建的容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ul",[n("li",[n("p",[s._v("OPTIONS 说明（常用）：")]),s._v(" "),n("ul",[n("li",[s._v("-a : 列出当前所有正在运行的容器+历史上运行过的")]),s._v(" "),n("li",[s._v("-l : 显示最近创建的容器。")]),s._v(" "),n("li",[s._v("-n ：显示最近 n 个创建的容器。")]),s._v(" "),n("li",[s._v("-q : 静默模式，只显示容器编号。")])])])]),s._v(" "),n("h3",{attrs:{id:"退出容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#退出容器"}},[s._v("#")]),s._v(" 退出容器")]),s._v(" "),n("ul",[n("li",[s._v("两种退出方式：")])]),s._v(" "),n("blockquote",[n("p",[s._v("方式一：使用 exit")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" ubuntu /bin/bash\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此时已经进入到 ubuntu 容器了")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出【当前所有正在运行】的容器, 会发现刚刚退出的容器，相应的容器也停止了")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("blockquote",[n("p",[s._v("方式二：使用 ctrl+p+q")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" ubuntu /bin/bash\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此时已经进入到 ubuntu 容器了")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出容器")]),s._v("\nctrl+p+q\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出当前所有正在运行的容器, 会发现刚刚退出的容器，相应的容器没有停止，还在运行中")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"启动已停止运行的容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动已停止运行的容器"}},[s._v("#")]),s._v(" 启动已停止运行的容器")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动容器 ID 为 3402cefa774 的容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" start 3402cefa774（容器ID）\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker start 容器名")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出当前所有正在运行的容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"重启容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重启容器"}},[s._v("#")]),s._v(" 重启容器")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" restart 容器 ID 或者容器名\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"停止容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#停止容器"}},[s._v("#")]),s._v(" 停止容器")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker stop 容器 ID 或者容器名\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"强制停止容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#强制停止容器"}},[s._v("#")]),s._v(" 强制停止容器")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" 容器ID或容器名\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"删除已停止的容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除已停止的容器"}},[s._v("#")]),s._v(" 删除已停止的容器")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除已停止的容器, 因此需要先把容器停止后再删除")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" 容器ID或容器名\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一次性删除多个容器实例")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 一次性删除多个容器实例, 就是把 docker ps -a -q 执行后得到的所有的容器的ID传给 xargs，然后再执行 docker rm")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"重要"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重要"}},[s._v("#")]),s._v(" 重要")]),s._v(" "),n("h4",{attrs:{id:"有镜像才能创建容器-这是根本前提-下载一个-redis6-0-8-镜像演示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#有镜像才能创建容器-这是根本前提-下载一个-redis6-0-8-镜像演示"}},[s._v("#")]),s._v(" 有镜像才能创建容器，这是根本前提(下载一个 Redis6.0.8 镜像演示)")]),s._v(" "),n("h4",{attrs:{id:"启动守护式容器-后台服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动守护式容器-后台服务器"}},[s._v("#")]),s._v(" 启动守护式容器(后台服务器)")]),s._v(" "),n("ul",[n("li",[s._v("在大部分的场景下，我们希望 docker 的服务是在后台运行的， 我们可以过 -d 指定容器的后台运行模式。")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用镜像 ubuntu:latest 以后台模式启动一个容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" ubuntu\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 但是进行容器查看, 会发现 ubuntu 容器已经退出")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 很重要的要说明的一点: Docker 容器后台运行, 就必须有一个前台进程.")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("ul",[n("li",[s._v("容器运行的命令如果不是那些一直挂起的命令（比如运行 top，tail），就是会自动退出的。")]),s._v(" "),n("li",[s._v("这个是 docker 的机制问题, 比如你的 web 容器,我们以 nginx 为例，正常情况下, 我们配置启动服务只需要启动响应的 service 即可。例如 service nginx start")]),s._v(" "),n("li",[s._v("但是, 这样做, nginx 为后台进程模式运行, 就导致 docker 前台没有运行的应用, 这样的容器后台启动后, 会立即自杀因为他觉得他没事可做了.")]),s._v(" "),n("li",[s._v("所以，最佳的解决方案是, 将你要运行的程序以前台进程的形式运行，")]),s._v(" "),n("li",[s._v("常见就是命令行模式，表示我还有交互操作，别中断，O(∩_∩)O 哈哈~")])]),s._v(" "),n("blockquote",[n("p",[s._v("redis 前后台启动演示 case")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 前台交互式启动")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" redis:6.0.8\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 后台守护式启动")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" redis:6.0.8\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h4",{attrs:{id:"查看容器日志"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看容器日志"}},[s._v("#")]),s._v(" 查看容器日志")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs e1bebac040bc（容器ID）\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"查看容器内运行的进程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看容器内运行的进程"}},[s._v("#")]),s._v(" 查看容器内运行的进程")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" e1bebac040bc（容器ID）\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"查看容器内部细节"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看容器内部细节"}},[s._v("#")]),s._v(" 查看容器内部细节")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" inspect e1bebac040bc（容器ID）\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"进入正在运行的容器并以命令行交互"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进入正在运行的容器并以命令行交互"}},[s._v("#")]),s._v(" 进入正在运行的容器并以命令行交互")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" 1439a83d18a6（容器ID）/bin/bash\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[n("img",{attrs:{src:t(967),alt:""}})]),s._v(" "),n("li",[n("img",{attrs:{src:t(968),alt:""}})])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重新进入")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" attach 容器ID\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ul",[n("li",[n("p",[s._v("案例演示，用 centos 或者 unbuntu 都可以")])]),s._v(" "),n("li",[n("p",[s._v("上述两个区别")]),s._v(" "),n("ul",[n("li",[s._v("attach 直接进入容器启动命令的终端，不会启动新的进程 用 exit 退出，会导致容器的停止。\n"),n("ul",[n("li",[n("img",{attrs:{src:t(969),alt:""}})])])]),s._v(" "),n("li",[s._v("exec 是在容器中打开新的终端，并且可以启动新的进程 用 exit 退出，不会导致容器的停止。\n"),n("ul",[n("li",[n("img",{attrs:{src:t(970),alt:""}})])])])])]),s._v(" "),n("li",[n("p",[s._v("推荐大家使用 docker exec 命令，因为退出容器终端，不会导致容器的停止。")])]),s._v(" "),n("li",[n("p",[s._v("用之前的 redis 容器实例进入试试")])])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入 redis 容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" 容器ID /bin/bash\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入了 redis 容器后就可以执行redis相关的命令了")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" k1 v1\nget k1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("ul",[n("li",[s._v("一般用-d 后台启动的程序，再用 exec 进入对应容器实例")])]),s._v(" "),n("h4",{attrs:{id:"从容器内拷贝文件到主机上"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#从容器内拷贝文件到主机上"}},[s._v("#")]),s._v(" 从容器内拷贝文件到主机上")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令: docker cp 容器ID:容器内路径 目的主机路径")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" ddb1ae909a66:/tmp/a.txt /peiqi\n\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /peiqi\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h4",{attrs:{id:"导入和导出容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#导入和导出容器"}},[s._v("#")]),s._v(" 导入和导出容器")]),s._v(" "),n("ul",[n("li",[s._v("export 导出容器的内容留作为一个 tar 归档文件[对应 import 命令]")]),s._v(" "),n("li",[s._v("import 从 tar 包中的内容创建一个新的文件系统再导入为镜像[对应 export]")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令：docker export 容器ID > 文件名.tar")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" 61279fc3cc6a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" abcd.tar\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 明林：cat 文件名.tar | docker import - 镜像用户/镜像名:镜像版本号")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" abcd.tar "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" - zsy/ubuntu:3.7\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h2",{attrs:{id:"小总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#小总结"}},[s._v("#")]),s._v(" 小总结")]),s._v(" "),n("ul",[n("li",[s._v("常用命令：\n"),n("ul",[n("li",[n("img",{attrs:{src:t(971),alt:""}})])])])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("attach    Attach to a running container                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前 shell 下 attach 连接指定运行镜像")]),s._v("\nbuild     Build an image from a Dockerfile              "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过 Dockerfile 定制镜像")]),s._v("\ncommit    Create a new image from a container changes   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交当前容器为新的镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v("        Copy files/folders from the containers filesystem to the "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" path   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#从容器中拷贝指定文件或者目录到宿主机中")]),s._v("\ncreate    Create a new container                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个新的容器，同 run，但不启动容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v("      Inspect changes on a container's filesystem   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 docker 容器变化")]),s._v("\nevents    Get real "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" events from the server          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从 docker 服务获取容器实时事件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v("      Run a "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" an existing container        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在已存在的容器上运行命令")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v("    Stream the contents of a container as a "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" archive   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 导出容器的内容流作为一个 tar 归档文件[对应 import ]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("   Show the "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" of an image                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 展示一个镜像形成历史")]),s._v("\nimages    List images                                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出系统当前镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v("    Create a new filesystem image from the contents of a tarball "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从 tar 包中的内容创建一个新的文件系统映像[对应 export]")]),s._v("\ninfo      Display system-wide information               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示系统相关信息")]),s._v("\ninspect   Return low-level information on a container   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看容器详细信息")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v("      Kill a running container                      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kill 指定 docker 容器")]),s._v("\nload      Load an image from a "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" archive              "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从一个 tar 包中加载一个镜像[对应 save]")]),s._v("\nlogin     Register or Login to the "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" registry server    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注册或者登陆一个 docker 源服务器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("logout")]),s._v("    Log out from a Docker registry server          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从当前 Docker registry 退出")]),s._v("\nlogs      Fetch the logs of a container                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出当前容器日志信息")]),s._v("\nport      Lookup the public-facing port "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" is NAT-ed to PRIVATE_PORT    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看映射端口对应的容器内部源端口")]),s._v("\npause     Pause all processes within a container        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 暂停容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("        List containers                               "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出容器列表")]),s._v("\npull      Pull an image or a repository from the "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" registry server   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从 docker 镜像源服务器拉取指定镜像或者库镜像")]),s._v("\npush      Push an image or a repository to the "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" registry server    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 推送指定镜像或者库镜像至 docker 源服务器")]),s._v("\nrestart   Restart a running container                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启运行的容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("        Remove one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" containers                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除一个或者多个容器")]),s._v("\nrmi       Remove one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" images       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除一个或多个镜像[无容器使用该镜像才可删除，否则需删除相关容器才可继续或 -f 强制删除]")]),s._v("\nrun       Run a "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a new container              "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个新的容器并运行一个命令")]),s._v("\nsave      Save an image to a "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" archive                "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保存一个镜像为一个 tar 包[对应 load]")]),s._v("\nsearch    Search "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" an image on the Docker Hub         "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 docker hub 中搜索镜像")]),s._v("\nstart     Start a stopped containers                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动容器")]),s._v("\nstop      Stop a running containers                     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止容器")]),s._v("\ntag       Tag an image into a repository                "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给源中镜像打标签")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("       Lookup the running processes of a container   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看容器中运行的进程信息")]),s._v("\nunpause   Unpause a paused container                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消暂停容器")]),s._v("\nversion   Show the "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" version information           "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 docker 版本号")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),s._v("      Block "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" a container stops, "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" print its "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" code   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 截取容器停止时的退出状态值")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports},959:function(s,a,t){s.exports=t.p+"assets/img/44.053adfcd.png"},960:function(s,a,t){s.exports=t.p+"assets/img/45.6ac6d426.png"},961:function(s,a,t){s.exports=t.p+"assets/img/46.3282f53e.png"},962:function(s,a,t){s.exports=t.p+"assets/img/89.d0ac4963.png"},963:function(s,a,t){s.exports=t.p+"assets/img/47.9e7ae593.png"},964:function(s,a,t){s.exports=t.p+"assets/img/48.d8896458.png"},965:function(s,a,t){s.exports=t.p+"assets/img/50.045edd1e.png"},966:function(s,a,t){s.exports=t.p+"assets/img/51.16bdb459.png"},967:function(s,a,t){s.exports=t.p+"assets/img/52.cb30fb39.png"},968:function(s,a,t){s.exports=t.p+"assets/img/53.af680173.png"},969:function(s,a,t){s.exports=t.p+"assets/img/54.52120698.png"},970:function(s,a,t){s.exports=t.p+"assets/img/55.19a3c8d8.png"},971:function(s,a,t){s.exports=t.p+"assets/img/59.871d1a18.png"}}]);
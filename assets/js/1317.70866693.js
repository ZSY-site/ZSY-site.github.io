(window.webpackJsonp=window.webpackJsonp||[]).push([[1317],{3258:function(s,n,a){"use strict";a.r(n);var t=a(2),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("ul",[a("li",[s._v("server\\src\\commands\\task\\manage.js")])]),s._v(" "),a("h2",{attrs:{id:"任务执行周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#任务执行周期"}},[s._v("#")]),s._v(" 任务执行周期")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("每分钟一次")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("准实时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  原始数据入库\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("错误数据入库")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("延迟"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("分钟"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("  按分钟统计\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("错误数据统计")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("延迟"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("分钟"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("  每"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("分钟一次\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  原始数据入库\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  uv\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("  页面性能指标\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("  用户停留时长\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("  按小时统计\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  uv\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("  新用户数\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("  页面性能指标\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v("  错误数据统计\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("  每小时一次\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  原始数据入库\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  设备数据\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("  用户点击\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("  首次登陆用户\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("按天统计")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("当天"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  uv\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("  新用户数\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("  页面性能指标\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v("  错误数据统计\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v("  用户停留时长\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v("  每六小时一次\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("按天统计")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("昨日"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  uv\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("  新用户数\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("  页面性能指标\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v("  错误数据统计\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v("  用户停留时长\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("  按月统计\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v("  uv\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("  新用户数\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v("  页面性能指标\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v("  错误数据统计\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.")]),s._v("  用户停留时长\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.")]),s._v("  操作系统分布\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.")]),s._v("  设备分布\n        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.")]),s._v("  浏览器分布\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br")])]),a("h2",{attrs:{id:"执行任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行任务"}},[s._v("#")]),s._v(" 执行任务")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://cron.qqe2.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("cron"),a("OutboundLink")],1)])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" dist/fee.js Task:saveLog\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("handle")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" that "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),s._v("\n    schedule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scheduleJob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0 */1 * * * * *'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      that"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'registerTaskRepeatPer1Minute 开始执行'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      that"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("execCommand")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SaveLog:Nginx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n┬ ┬ ┬ ┬ ┬ ┬\n│ │ │ │ │  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n│ │ │ │ │ └ day "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("week")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" or "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" is Sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n│ │ │ │ └───── "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("month")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n│ │ │ └────────── day "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("month")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n│ │ └─────────────── "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("hour")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n│ └──────────────────── "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("minute")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n└───────────────────────── "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("second")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OPTIONAL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);
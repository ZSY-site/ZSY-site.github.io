(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{1182:function(s,t,a){s.exports=a.p+"assets/img/14.d083e167.png"},1183:function(s,t,a){s.exports=a.p+"assets/img/15.08ab3d9f.png"},1184:function(s,t,a){s.exports=a.p+"assets/img/18.4f524291.png"},1185:function(s,t,a){s.exports=a.p+"assets/img/19.f35fcb98.png"},1186:function(s,t,a){s.exports=a.p+"assets/img/20.767fabff.png"},1187:function(s,t,a){s.exports=a.p+"assets/img/27.0e9a1908.png"},1188:function(s,t,a){s.exports=a.p+"assets/img/21.74ebf84f.png"},2729:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"分类-1-等值连接-vs-非等值连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分类-1-等值连接-vs-非等值连接"}},[s._v("#")]),s._v(" 分类 1：等值连接 vs 非等值连接")]),s._v(" "),n("h3",{attrs:{id:"等值连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#等值连接"}},[s._v("#")]),s._v(" 等值连接")]),s._v(" "),n("p",[n("img",{attrs:{src:a(1182),alt:""}})]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 如下使用了 表的别名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 使用别名可以简化查询。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 列名前使用表名前缀可以提高查询效率。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("employee_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("last_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("department_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\nd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("department_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("location_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employees e "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" departments d\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("department_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("department_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("img",{attrs:{src:a(1183),alt:""}})]),s._v(" "),n("ul",[n("li",[s._v("需要注意的是，如果我们使用了表的别名，在查询字段中、过滤条件中就只能使用别名进行代替，不能使用原有的表名，否则就会报错。")]),s._v(" "),n("li",[s._v("【 强制 】对于数据库中表记录的查询和变更，只要涉及多个表，都需要在列名前加表的别名（或表名）进行限定。")]),s._v(" "),n("li",[s._v("说明 ：对多表进行查询记录、更新记录、删除记录时，如果对操作列没有限定表的别名（或表名），并且操作列在多个表中存在时，就会抛异常。")]),s._v(" "),n("li",[s._v("正例：select t1.name from table_first as t1 , table_second as t2 where t1.id = t2.id;")]),s._v(" "),n("li",[s._v("反例：在某业务中，由于多表关联查询语句没有加表的别名（或表名）的限制，正常运行两年后，最近在 某个表中增加一个同名字段，在预发布环境做数据库变更后，线上查询语句出现出：【1052 异常：Column 'name' in field list is ambiguous。】")])]),s._v(" "),n("h3",{attrs:{id:"非等值连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#非等值连接"}},[s._v("#")]),s._v(" 非等值连接")]),s._v(" "),n("blockquote",[n("p",[s._v("EMPLOYEES 是员工表，JOB_GRADES 是薪资等级表\n"),n("img",{attrs:{src:a(1184),alt:""}})])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" last_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" salary"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" gra\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employees e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" job_grades j\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("salary "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("BETWEEN")]),s._v(" j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lowest_sal "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" j"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("highest_sal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:a(1185),alt:""}})]),s._v(" "),n("h2",{attrs:{id:"分类-2-自连接-vs-非自连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分类-2-自连接-vs-非自连接"}},[s._v("#")]),s._v(" 分类 2：自连接 vs 非自连接")]),s._v(" "),n("ul",[n("li",[s._v("自连接：一张表，自己连接自己")])]),s._v(" "),n("blockquote",[n("p",[s._v("比如下面的表中，employee_id 是员工 id，同时有 manager_id 表示该员工的上级\n"),n("img",{attrs:{src:a(1186),alt:""}})])]),s._v(" "),n("blockquote",[n("p",[s._v("我们可以把一张表模拟成如下的两张表，分别是 员工表 管理员表, 然后两个表再进行内连接，外连接等查询。\n"),n("img",{attrs:{src:a(1187),alt:""}})])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 练习：查询员工id，员工姓名及其管理者的id和姓名")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" emp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("employee_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" emp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("last_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mgr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("employee_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mgr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("last_name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employees emp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" employee_id mgr\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" emp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("manager_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" mgr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("emploee_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[n("img",{attrs:{src:a(1188),alt:""}})]),s._v(" "),n("h2",{attrs:{id:"分类-3-内连接-vs-外连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分类-3-内连接-vs-外连接"}},[s._v("#")]),s._v(" 分类 3：内连接 vs 外连接")]),s._v(" "),n("ul",[n("li",[s._v("内连接: 合并具有同一列的两个以上的表的行, 结果集中不包含一个表与另一个表不匹配的行。")])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 下面就是【内连接】，即只是会把有记录的数据查出来")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 假如说：某个员工不属于任何一个部门，即没有部门id，则该员工不会去关联部门表，该数据不会被查出来")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 或者比如说：某个部门还没有员工，则该数据也不会被查出来")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 如果你还想把数据查出来，则称为【外连接】")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" employee_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" department_name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employees e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" departments d\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("department_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" d"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("department_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("ul",[n("li",[n("p",[s._v("外连接：合并具有同一列的两个以上的表的行, 结果集中除了包含一个表与另一个表不匹配的行之外，还查询到了左表 或 右表中不匹配的行。")])]),s._v(" "),n("li",[n("p",[s._v("外连接的分类：")]),s._v(" "),n("ul",[n("li",[n("ol",[n("li",[s._v("左外连接：两个表在连接过程中除了返回满足连接条件的行以外还返回左表中不满足条件的行，这种连接称为左外连接。没有匹配的行时, 结果表中相应的列为空(NULL)。")])])]),s._v(" "),n("li",[n("ol",{attrs:{start:"2"}},[n("li",[s._v("右外连接：两个表在连接过程中除了返回满足连接条件的行以外还返回右表中不满足条件的行，这种连接称为外连接。没有匹配的行时, 结果表中相应的列为空(NULL)。")])])]),s._v(" "),n("li",[n("ol",{attrs:{start:"3"}},[n("li",[s._v("满外连接：两个表在连接过程中除了返回满足连接条件的行以外还返回左和右表中不满足条件的行，这种连接称为满外连接。没有匹配的行时, 结果表中相应的列为空(NULL)。")])])])])]),s._v(" "),n("li",[n("p",[s._v("如果是左外连接，则连接条件中左边的表也称为 主表 ，右边的表称为 从表。")])]),s._v(" "),n("li",[n("p",[s._v("如果是右外连接，则连接条件中右边的表也称为 主表 ，左边的表称为 从表。")])])]),s._v(" "),n("h3",{attrs:{id:"sql92-使用-创建连接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sql92-使用-创建连接"}},[s._v("#")]),s._v(" SQL92：使用(+)创建连接")]),s._v(" "),n("ul",[n("li",[s._v("SQL99 意思就是 99 年发布的")]),s._v(" "),n("li",[s._v("SQL92 意思就是 92 年发布的")]),s._v(" "),n("li",[s._v("在 SQL92 中采用（+）代表从表所在的位置。即左或右外连接中，(+) 表示哪个是从表。")])]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 这是 SQL92 的左外连接写法")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 可以理解为左表的数据比右表数据多，然后就可能出现连接后，右边的字段出现为空，那么就理解为裤子左边比右边长，那么就给右边垫长一点，即写个 +")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 注意：MySQL 不支持 SQL92 的外连接的写法，但是 Oracle 支持")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" last_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" department_name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" departments\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("department_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" departments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("department_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 右外连接")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" last_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" department_name\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" departments\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("department_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" departments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("department_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("ul",[n("li",[s._v("而且在 SQL92 中，只有左外连接和右外连接，没有满（或全）外连接。")])]),s._v(" "),n("h2",{attrs:{id:"附录-常用的-sql-标准有哪些"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#附录-常用的-sql-标准有哪些"}},[s._v("#")]),s._v(" 附录：常用的 SQL 标准有哪些")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("在正式开始讲连接表的种类时，我们首先需要知道 SQL 存在不同版本的标准规范，因为不同规范下的表连接操作是有区别的。")])]),s._v(" "),n("li",[n("p",[s._v("SQL 有两个主要的标准，分别是 SQL92 和 SQL99 。92 和 99 代表了标准提出的时间，SQL92 就是 92 年提出的标准规范。当然除了 SQL92 和 SQL99 以外，还存在 SQL-86、SQL-89、SQL:2003、SQL:2008、SQL:2011 和 SQL:2016 等其他的标准。")])]),s._v(" "),n("li",[n("p",[s._v("这么多标准，到底该学习哪个呢？实际上最重要的 SQL 标准就是 SQL92 和 SQL99。一般来说 SQL92 的形式更简单，但是写的 SQL 语句会比较长，可读性较差。而 SQL99 相比于 SQL92 来说，语法更加复杂，但可读性更强。我们从这两个标准发布的页数也能看出，SQL92 的标准有 500 页，而 SQL99 标准超过了 1000 页。实际上从 SQL99 之后，很少有人能掌握所有内容，因为确实太多了。就好比我们使用 Windows、Linux 和 Office 的时候，很少有人能掌握全部内容一样。我们只需要掌握一些核心的功能，满足日常工作的需求即可。")])]),s._v(" "),n("li",[n("p",[s._v("SQL92 和 SQL99 是经典的 SQL 标准，也分别叫做 SQL-2 和 SQL-3 标准。也正是在这两个标准发布之后，SQL 影响力越来越大，甚至超越了数据库领域。现如今 SQL 已经不仅仅是数据库领域的主流语言，还是信息领域中信息处理的主流语言。在图形检索、图像检索以及语音检索中都能看到 SQL 语言的使用。")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);
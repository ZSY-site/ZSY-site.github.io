(window.webpackJsonp=window.webpackJsonp||[]).push([[344],{1261:function(a,t,e){a.exports=e.p+"assets/img/2.49af50cf.png"},2773:function(a,t,e){"use strict";e.r(t);var r=e(2),s=Object(r.a)({},(function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h2",{attrs:{id:"前话"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前话"}},[a._v("#")]),a._v(" 前话")]),a._v(" "),r("ul",[r("li",[a._v("JWT 是一种紧凑且自包含的，用于在多方传递 JSON 对象的技术。传递的数据可以使用\n数字签名增加其安全行。可以使用 HMAC 加密算法或 RSA 公钥/私钥加密方式。")]),a._v(" "),r("li",[a._v("紧凑：数据小，可以通过 URL，POST 参数，请求头发送。且数据小代表传输速度快。")]),a._v(" "),r("li",[a._v("自包含：使用 payload 数据块记录用户必要且不隐私的数据，可以有效的减少数据库访\n问次数，提高代码性能。")]),a._v(" "),r("li",[a._v("JWT 一般用于处理用户身份验证或数据信息交换。")]),a._v(" "),r("li",[a._v("用户身份验证：一旦用户登录，每个后续请求都将包含 JWT，允许用户访问该令牌允许\n的路由，服务和资源。单点登录是当今广泛使用 JWT 的一项功能，因为它的开销很小，并\n且能够轻松地跨不同域使用。")]),a._v(" "),r("li",[a._v("数据信息交换：JWT 是一种非常方便的多方传递数据的载体，因为其可以使用数据前面\n来保证数据的有效性和安全性。")])]),a._v(" "),r("h2",{attrs:{id:"jwt-数据结构"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#jwt-数据结构"}},[a._v("#")]),a._v(" JWT 数据结构")]),a._v(" "),r("p",[a._v("JWT 的数据结构是 ： A.B.C。 由字符点‘.’来分隔三部分数据。")]),a._v(" "),r("ul",[r("li",[a._v("A - header 头信息")]),a._v(" "),r("li",[a._v("B - payload （有效荷载？）")]),a._v(" "),r("li",[a._v("C - Signature 签名")])]),a._v(" "),r("h3",{attrs:{id:"header"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#header"}},[a._v("#")]),a._v(" header")]),a._v(" "),r("p",[a._v("数据结构： {“alg”: “加密算法名称”, “typ” : “JWT”}\nalg 是加密算法定义内容，如：HMAC SHA256 或 RSA\ntyp 是 token 类型，这里固定为 JWT。")]),a._v(" "),r("h2",{attrs:{id:"payload"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#payload"}},[a._v("#")]),a._v(" payload")]),a._v(" "),r("p",[a._v("在 payload 数据块中一般用于记录实体（通常为用户信息）或其他数据的。主要分为三\n个部分，分别是：已注册信息（registered claims），公开数据（public claims），私有数据（private\nclaims）。\npayload 中常用信息有：iss（发行者），exp（到期时间），sub（主题），aud（受众）等。\n前面列举的都是已注册信息。\n公开数据部分一般都会在 JWT 注册表中增加定义。避免和已注册信息冲突。\n公开数据和私有数据可以由程序员任意定义。\n注意：即使 JWT 有签名加密机制，但是 payload 内容都是明文记录，除非记录的是加\n密数据，否则不排除泄露隐私数据的可能。不推荐在 payload 中记录任何敏感数据。")]),a._v(" "),r("h3",{attrs:{id:"signature"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#signature"}},[a._v("#")]),a._v(" Signature")]),a._v(" "),r("p",[a._v("签名信息。这是一个由开发者提供的信息。是服务器验证的传递的数据是否有效安全的\n标准。在生成 JWT 最终数据的之前。先使用 header 中定义的加密算法，将 header 和 payload\n进行加密，并使用点进行连接。如：加密后的 head.加密后的 payload。再使用相同的加密算\n法，对加密后的数据和签名信息进行加密。得到最终结果。")]),a._v(" "),r("h2",{attrs:{id:"jwt-执行流程"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#jwt-执行流程"}},[a._v("#")]),a._v(" JWT 执行流程")]),a._v(" "),r("p",[r("img",{attrs:{src:e(1261),alt:""}})])])}),[],!1,null,null,null);t.default=s.exports}}]);
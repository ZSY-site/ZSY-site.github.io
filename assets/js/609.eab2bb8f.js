(window.webpackJsonp=window.webpackJsonp||[]).push([[609],{2350:function(t,o,e){"use strict";e.r(o);var i=e(2),v=Object(i.a)({},(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"面试题汇总"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#面试题汇总"}},[t._v("#")]),t._v(" 面试题汇总")]),t._v(" "),e("h3",{attrs:{id:"说一下jwt鉴权认证"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#说一下jwt鉴权认证"}},[t._v("#")]),t._v(" 说一下jwt鉴权认证")]),t._v(" "),e("ul",[e("li",[e("ol",[e("li",[t._v("用户输入用户名/密码登录，服务端认证成功后，会返回给客户端一个 JWT")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"2"}},[e("li",[t._v("客户端将 token 保存到本地（通常使用 localstorage，也可以使用 cookie）")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"3"}},[e("li",[t._v("当用户希望访问一个受保护的路由或者资源的时候，需要请求头的 Authorization 字段中使用Bearer 模式添加 JWT，其内容看起来是下面这样")])])]),t._v(" "),e("li",[e("ol",{attrs:{start:"4"}},[e("li",[t._v("服务端的保护路由将会检查请求头 Authorization 中的 JWT 信息，如果合法，则允许用户的行为")])])])]),t._v(" "),e("h2",{attrs:{id:"常见的前后端鉴权方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见的前后端鉴权方式"}},[t._v("#")]),t._v(" 常见的前后端鉴权方式")]),t._v(" "),e("ul",[e("li",[t._v("Session-Cookie")]),t._v(" "),e("li",[t._v("Token 验证（包括 JWT，SSO）")]),t._v(" "),e("li",[t._v("OAuth2.0（开放授权）")])]),t._v(" "),e("h2",{attrs:{id:"cookie-session方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie-session方式"}},[t._v("#")]),t._v(" cookie-session方式")]),t._v(" "),e("ul",[e("li",[t._v("用户第一次请求服务器的时候，服务器根据用户提交的相关信息，创建对应的 Session")]),t._v(" "),e("li",[t._v("请求返回时将此 Session 的唯一标识信息 SessionID 返回给浏览器")]),t._v(" "),e("li",[t._v("浏览器接收到服务器返回的 SessionID 信息后，会将此信息存入到 Cookie 中，同时 Cookie 记录此 SessionID 属于哪个域名")]),t._v(" "),e("li",[t._v("当用户第二次访问服务器的时候，请求会自动判断此域名下是否存在 Cookie 信息，如果存在自动将 Cookie 信息也发送给服务端，服务端会从 Cookie 中获取 SessionID，再根据 SessionID 查找对应的 Session 信息，如果没有找到说明用户没有登录或者登录失效，如果找到 Session 证明用户已经登录可执行后面操作")])]),t._v(" "),e("h2",{attrs:{id:"token方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#token方式"}},[t._v("#")]),t._v(" Token方式")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("客户端使用用户名跟密码请求登录")])]),t._v(" "),e("li",[e("p",[t._v("服务端收到请求，去验证用户名与密码")])]),t._v(" "),e("li",[e("p",[t._v("验证成功后，服务端会签发一个 token 并把这个 token 发送给客户端")])]),t._v(" "),e("li",[e("p",[t._v("客户端收到 token 以后，会把它存储起来，比如放在 cookie 里或者 localStorage 里")])]),t._v(" "),e("li",[e("p",[t._v("客户端每次向服务端请求资源的时候需要带着服务端签发的 token")])]),t._v(" "),e("li",[e("p",[t._v("服务端收到请求，然后去验证客户端请求里面带着的 token ，如果验证成功，就向客户端返回请求的数据")])]),t._v(" "),e("li",[e("p",[t._v("每一次请求都需要携带 token，需要把 token 放到 HTTP 的 Header 里")])]),t._v(" "),e("li",[e("p",[t._v("基于 token 的用户认证是一种服务端无状态的认证方式，服务端不用存放 token 数据。用解析 token 的计算时间换取 session 的存储空间，从而减轻服务器的压力，减少频繁的查询数据库")])]),t._v(" "),e("li",[e("p",[t._v("token 完全由应用管理，所以它可以避开同源策略")])])]),t._v(" "),e("h2",{attrs:{id:"jwt方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jwt方式"}},[t._v("#")]),t._v(" JWT方式")]),t._v(" "),e("ul",[e("li",[t._v("用户输入用户名/密码登录，服务端认证成功后，会返回给客户端一个 JWT")]),t._v(" "),e("li",[t._v("客户端将 token 保存到本地（通常使用 localstorage，也可以使用 cookie）")]),t._v(" "),e("li",[t._v("当用户希望访问一个受保护的路由或者资源的时候，需要请求头的 Authorization 字段中使用Bearer 模式添加 JWT，其内容看起来是下面这样")]),t._v(" "),e("li",[t._v("服务端的保护路由将会检查请求头 Authorization 中的 JWT 信息，如果合法，则允许用户的行为")]),t._v(" "),e("li",[t._v("因为 JWT 是自包含的（内部包含了一些会话信息），因此减少了需要查询数据库的需要")]),t._v(" "),e("li",[t._v("因为 JWT 并不使用 Cookie 的，所以你可以使用任何域名提供你的 API 服务而不需要担心跨域资源共享问题（CORS）")]),t._v(" "),e("li",[t._v("因为用户的状态不再存储在服务端的内存中，所以这是一种无状态的认证机制")])]),t._v(" "),e("h2",{attrs:{id:"token-和-jwt-的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#token-和-jwt-的区别"}},[t._v("#")]),t._v(" Token 和 JWT 的区别")]),t._v(" "),e("p",[t._v("相同：")]),t._v(" "),e("ul",[e("li",[t._v("都是访问资源的令牌")]),t._v(" "),e("li",[t._v("都可以记录用户的信息")]),t._v(" "),e("li",[t._v("都是使服务端无状态化")]),t._v(" "),e("li",[t._v("都是只有验证成功后，客户端才能访问服务端上受保护的资源")])]),t._v(" "),e("p",[t._v("区别：")]),t._v(" "),e("ul",[e("li",[t._v("Token：服务端验证客户端发送过来的 Token 时，还需要查询数据库获取用户信息，然后验证 Token 是否有效。")]),t._v(" "),e("li",[t._v("JWT： 将 Token 和 Payload 加密后存储于客户端，服务端只需要使用密钥解密进行校验（校验也是 JWT 自己实现的）即可，不需要查询或者减少查询数据库，因为 JWT 自包含了用户信息和加密的数据。")])])])}),[],!1,null,null,null);o.default=v.exports}}]);